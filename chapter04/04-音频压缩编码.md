## 04-音频压缩编码

### 4.1 音频压缩编码的基础知识
    声音信息的三大要素：
    1振幅 振幅越大，音量越高;振幅越小，音量越小
    2频率 频率越高，音调越高，声音越尖锐;频率越低，音调越低，声音越低沉。可听音频率范围20Hz-20kHz 
         低于20hz称次声波，高于20kHz称超声波
    3音色 组成声音信号的各个频率的声音分量的强度不尽相同，其中强度最大的频率分量由声源主体振动产生，
         称为“基因”，声源其他部分的振动同样产生频率不同、强度稍低的声音分量，称为“泛音”。音色主要由
         泛音的特性决定，不同的泛音使我们可以根据感知对声音进行划分：男声、女声、童声、钢琴音等
### 4.2 音频信息采样与数字化
    数字音频常用的媒介 CD compat disk
    音频采样的常用频率是44.1kHz
    音频的量化，又称为位深或者位宽，表示以多大的数据量来表示一个量化后的数据常用的 4bit 8bit 16bit 32bit
### 4.3 脉冲编码调制
    PCM 脉冲编码调制
        A律13折线
        u律15折线
### 4.4 MP3格式与MP3编码标准
    MP3定义于MPEG-1标准集合的第三部分，即MPEG-1 Audio Layer 3
    一个MP3文件以帧(Frame)为单位保存音频的码流数据，每帧数据都由帧头和载荷数据构成。
    除保存在帧中的音频码流数据外，MP3文件还定义了两个标签结构，
    用来保存歌曲名称、作者、专辑和年份等音频文件的属性信息，并形成ID3标签
        常用的ID3标签
            ID3V1 Tag 文件尾
            ID3V2 Tag 文件头
            
            TagV2 Tag 在标签头后，是若干的标签帧，每个标签帧又是由标签帧头和标签帧数据组成
            typedef struct {
                char file_id[3];//ID3
                char version;//主版本号
                char reversion;//次版本号
                char flags;//Tag的标识位，仅最高3bit有效 使用非同步编码-包含扩展标签头信息-该Tag为实验性标准，未正式发布
                char size[4];//Tag中有效数据的大小(不包括Tag标签头)，需要注意的是，计算实际长度的时候，每字节抛弃最高位，由剩余的7位按大端字节组
            }TagHeader//标签头
            typedef struct{
                char frame_id[4];//常见id TIT2：标题 TPE1：作者 TABL：专辑 TYER：年份 TRAK：音轨、集合中的位置
                char size[4];//
                char flags[2];
            }TagFrameHeader//标签帧头

            帧内载荷数据：针对MPEG-1 Audio标准 Layer1规定每帧保存384个采样值，
                        layer2和layer3规定每帧保存1152个采样值。
                如果确定了音频的采样率，就可以计算每帧的持续时间：采样率44.1kHz的每帧持续时间
                        1152/44100*1000= 26ms
            MP3帧由帧头(Header)和帧数据(Side Data、Main Data、Ancillary Data )组成
            typedef struct{
                unsigned int sync:11;//同步标识，每个bit都是1
                unsigned int version:2;//版本信息，00：MPEG-2.5 01：未定义 10：MPEG-2 11：MPEG-1
                unsigned int layer:2;//层信息， 00：未定义 01：layer3 10：layer2 11：layer1
                unsigned int errorprotection:1;//CRC校验，0：开启校验 1：禁用校验
                unsigned int bitrate_index:4;//码率，
                unsigned int sampling_frequency:2;//采样率
                unsigned int padding:1;//填充标识， 0：未使用填充位 1：使用填充位
                unsigned int private:1;//保留位
                unsigned int mode:2;//声道模式，00：立体音 01：联合立体音 10：双声道 11：单声道
                unsigned int modeextension:2;//扩展声道模式
                unsigned int copyright:1;//版权标识
                unsigned int original:1;//原始媒体标识
                unsigned int emphasis:2;//强调方式标识，00：none 01：50/15ms 10：reserved 11：CCITJ.17
            }FrameHeader
            
            帧数据

### 4.5 AAC格式与AAC编码标准