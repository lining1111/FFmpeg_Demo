## 06-音视频流媒体协议

### 6.1 网络协议模型

    iso/osi tcp/ip
    应用层常用协议
    http    超文本传输协议         万维网的数据传输    80
    https   加密超文本传输协议       http的加密版本   443
    ftp     文本传输协议          在网络上进行文件传输  21
    ssh     安全外壳协议          为网络服务提供安全   22
    telnet  远程登录协议          在终端操作远程电脑   23
    smpt    简单邮件传输协议    在系统之间传递邮件信息 25
    pop3    邮局协议3           客户端远程邮件管理   110
    dns     域名解析服务      将域名解析到指定主机      53

### 6.2 网络流媒体协议---RTMP

    实时信息传输协议 Real-Time Messaging Protocol   由TCP提供传输层的连接和传输服务，默认端口为1935
    在RTMP中，每条信息在传输之前都先被分割成为若干数据块，这些数据块被称为分块(Chunk)。不同信息的分块可交错发送
    ，并且同属于一条信息的分块可保证按时间戳顺序依次收发。分块通过客户端与服务器端之间的一条逻辑信道进行传输，
    该逻辑信道被称为块流(Chunk Stream)。在块流中传输的每个分块都包含1个ID值，用于标识其所属的信息分块。

### 6.3 网络流媒体协议---HLS协议

    实时流媒体协议 HTTP Live Streaming 一个完整的基于HLS协议的流媒体直播系统通常由四部分组成：音视频采集器、
    媒体服务器、媒体分发器和播放客户端。HLS直播流媒体系统的核心组件为媒体服务器和媒体分发器，分别承担媒体数据的生成
    和分发工作。
    媒体服务器的核心任务是对数据采集端生成的音视频流数据进行编码、切分和整理，生成适合在HTTP网络中进行流式分发和传输
    的格式。媒体服务器的结构主要由媒体编码器、媒体流切分器和文件分割器三部分组成。
        早期，设备端不带编码功能，流媒体服务器在收到采集端获得的原始数据后，进行压缩编码，将视频图像编码为H.264或H.265等格式的视频流，将音频数据编码
    为HE-AAC或AC-3等格式的音频流。编码完成的视频流和音频流可以被进一步封装为MPEG-2 TS格式进行输出。随着技术发展，设备端带编码功能后，媒体编码器
    根据指定的参数对音视频流进行转码、封装或转封装操作，输出指定格式的数据。
        对媒体编码器输出的MPEG-2 TS格式的数据，媒体流切分器会将其分为指定时长的多个MPEG-2 TS文件分片(简称TS文件分片)
    每个分片都可以作为一个独立的文件进行播放，而且按顺序衔接即可无缝还原为分割前的大文件。除TS文件分片外，媒体流切分器的另
    一项重要工作就是生成并维护TS文件分片的索引文件，该索引文件以.m3u8为扩展名。
    